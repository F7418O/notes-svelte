<script>
    import { createEventDispatcher } from "svelte";
    export let note;

    const dispatch = createEventDispatcher();

    const handleChange = () => {
        /*  dispatch('update', {
            id: note.id,
            text: note.text,
            color: note.color,
            title: note.title
        }) */
    };

    const handleColor = () => {
        dispatch("color", {
            id: note.id,
        });
    };

    const handleRemove = () => {
        dispatch("remove", {
            id: note.id,
        });
    };
</script>

<div class="Note">
    <div class="notes-container" style={"background:" + note.color}>
        <div class="header">
            <div class="options">
                <button on:click={handleColor} class="edit">
                    <svg
                        width="24px"
                        height="24px"
                        viewBox="0 0 24 24"
                        version="1.1"
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                    >
                            <g
                            id="ðŸ”-Product-Icons"
                            stroke="none"
                            stroke-width="1"
                            fill="none"
                            fill-rule="evenodd"
                        >
                            <g
                                id="ic_fluent_color_24_regular"
                                fill="#212121"
                                fill-rule="nonzero"
                            >
                                <path
                                    d="M3.83904058,5.85749561 C6.78004581,1.94188971 12.8686707,0.802505202 17.2029394,3.497377 C21.4827525,6.15839057 23.0567972,11.2744655 21.303866,16.0747407 C19.648689,20.6073231 15.2875295,22.403209 12.1442101,20.1231428 C10.9667425,19.2690444 10.5102901,18.1984035 10.2896576,16.4593132 L10.1842745,15.4713913 L10.1388589,15.073954 C10.0162342,14.1399065 9.82780748,13.7214296 9.43453605,13.5022264 C8.89894535,13.2036966 8.54231757,13.1967226 7.83905282,13.4692784 L7.48794193,13.6148779 L7.30920754,13.6928218 C6.29543196,14.1331038 5.62104161,14.2877923 4.76804588,14.1090543 L4.56779442,14.0618665 L4.40426138,14.0152691 C1.61529547,13.1510586 1.20220653,9.36813303 3.83904058,5.85749561 Z M4.8232597,12.5739125 L4.94616428,12.610372 L5.080113,12.6412161 C5.51918878,12.7281665 5.89444039,12.6556749 6.51713486,12.3993955 L7.11930681,12.1421347 C8.32144994,11.6492191 9.1045463,11.6010233 10.1648305,12.1920088 C11.0824191,12.7034581 11.4400583,13.4895978 11.62247,14.8516511 L11.6756637,15.310802 L11.729873,15.8425189 L11.7770095,16.2649431 C11.9490842,17.6262078 12.2619162,18.3554553 13.024955,18.90894 C15.3002886,20.5593963 18.5593937,19.2173263 19.8948725,15.5602143 C21.411142,11.4080201 20.0689941,7.04567303 16.4109117,4.77122636 C12.736718,2.48676231 7.51248742,3.46438986 5.03840796,6.75833849 C2.96361994,9.52067707 3.21809532,12.0378944 4.8232597,12.5739125 Z M16.0477462,10.5795744 C15.8690689,9.91274179 16.264797,9.2273206 16.9316297,9.04864333 C17.5984623,8.86996607 18.2838835,9.26569418 18.4625608,9.93252681 C18.641238,10.5993594 18.2455099,11.2847806 17.5786773,11.4634579 C16.9118447,11.6421352 16.2264235,11.2464071 16.0477462,10.5795744 Z M16.5423361,14.0682389 C16.3636589,13.4014063 16.759387,12.7159851 17.4262196,12.5373078 C18.0930522,12.3586306 18.7784734,12.7543587 18.9571507,13.4211913 C19.135828,14.0880239 18.7400999,14.7734451 18.0732672,14.9521224 C17.4064346,15.1307997 16.7210134,14.7350716 16.5423361,14.0682389 Z M14.0692386,7.57689062 C13.8905613,6.91005799 14.2862894,6.2246368 14.9531221,6.04595953 C15.6199547,5.86728227 16.3053759,6.26301038 16.4840531,6.92984301 C16.6627304,7.59667564 16.2670023,8.28209683 15.6001697,8.4607741 C14.933337,8.63945136 14.2479158,8.24372325 14.0692386,7.57689062 Z M14.0407569,16.5752747 C13.8620796,15.9084421 14.2578077,15.2230209 14.9246403,15.0443437 C15.591473,14.8656664 16.2768942,15.2613945 16.4555714,15.9282271 C16.6342487,16.5950598 16.2385206,17.280481 15.571688,17.4591582 C14.9048553,17.6378355 14.2194341,17.2421074 14.0407569,16.5752747 Z M10.5438339,6.60529725 C10.3651566,5.93846462 10.7608847,5.25304343 11.4277174,5.07436616 C12.09455,4.8956889 12.7799712,5.29141701 12.9586484,5.95824964 C13.1373257,6.62508227 12.7415976,7.31050346 12.074765,7.48918073 C11.4079323,7.66785799 10.7225111,7.27212988 10.5438339,6.60529725 Z"
                                    id="ðŸŽ¨-Color"
                                />
                            </g>
                        </g>
                    </svg>
                </button>
                <button on:click={handleRemove} class="delete">
                    <svg class="icon-delete"
                        version="1.1"
                        id="Layer_1"
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                        x="0px"
                        y="0px"
                        viewBox="0 0 473 473"
                        style="enable-background:new 0 0 473 473;"
                        xml:space="preserve">
                        <g>
                            <path
                                d="M324.285,215.015V128h20V38h-98.384V0H132.669v38H34.285v90h20v305h161.523c23.578,24.635,56.766,40,93.477,40
		c71.368,0,129.43-58.062,129.43-129.43C438.715,277.276,388.612,222.474,324.285,215.015z M294.285,215.015
		c-18.052,2.093-34.982,7.911-50,16.669V128h50V215.015z M162.669,30h53.232v8h-53.232V30z M64.285,68h250v30h-250V68z M84.285,128
		h50v275h-50V128z M164.285,403V128h50v127.768c-21.356,23.089-34.429,53.946-34.429,87.802c0,21.411,5.231,41.622,14.475,59.43
		H164.285z M309.285,443c-54.826,0-99.429-44.604-99.429-99.43s44.604-99.429,99.429-99.429s99.43,44.604,99.43,99.429
		S364.111,443,309.285,443z"
                            />
                            <polygon
                                points="342.248,289.395 309.285,322.358 276.323,289.395 255.11,310.608 288.073,343.571 255.11,376.533 276.323,397.746 
		309.285,364.783 342.248,397.746 363.461,376.533 330.498,343.571 363.461,310.608 	"
                            />
                        </g>
                        <g />
                        <g />
                        <g />
                        <g />
                        <g />
                        <g />
                        <g />
                        <g />
                        <g />
                        <g />
                        <g />
                        <g />
                        <g />
                        <g />
                        <g />
                    </svg>
                </button>
            </div>
        </div>
        <div class="title">
            <input
                type="text"
                on:change={handleChange}
                placeholder="Sin Titulo"
                bind:value={note.title}
            />
        </div>
        <div class="text">
            <textarea
                on:change={handleChange}
                name="description"
                bind:value={note.text}
                id=""
                rows="10"
                placeholder="Descripcion"
            />
        </div>
    </div>
</div>

<style>
    .Note {
        padding: auto;
        background-color: white;
        border-radius: 5px;
        border: 1px solid transparent;
        overflow: hidden;
        height: 400px;
    }
    .notes-container {
        height: 100%;
    }

    .Note:focus-within {
        border: solid 2px #000;
        box-shadow: 0 2 px 5px rgba(0, 0, 0, 2);
    }
    .Note .notes-container .header {
        padding: 5px;
    }
    .header .options {
        display: flex;
        justify-content: space-between;
    }
    .text,
    .title {
        padding: 10px;
    }
    .text textarea {
        width: 100%;
        border: 0;
        outline: none;
        resize: none;
        height: 250px;
    }
    .title input {
        font-size: 22px;
        font-weight: bold;
        padding: 10px 0;
        outline: none;
        border: none;
        width: 100%;
    }

    textarea,  input {
        background-color: transparent;
    }
    button {
        border: none;
        background-color: transparent;
        cursor: pointer;
    }

    .icon-delete{
        width: 25px;
    }

</style>
